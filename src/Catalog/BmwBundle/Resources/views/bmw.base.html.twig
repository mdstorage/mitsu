{% block brand %}BMW{% endblock brand %}


{% block catalogPathLogo %}
    {% if app.request.get('callbackhost')%}
        {{ path('catalog_bmw', {'token': app.request.get('token'), 'callbackhost':  app.request.get('callbackhost'), 'domain':  app.request.get('domain') }) }}
    {% else %}
        {{ path('catalog_bmw', {'token': app.request.get('token'), 'callbackhost':  app.request.cookies.get('COOKIEHOSTbmw'~app.request.cookies.get('DOMAIN')|replace({'.': ''})), 'domain':  app.request.cookies.get('DOMAIN') }) }}
    {% endif %}
{% endblock catalogPathLogo %}

{% block catalogPath %}
    {% if app.request.get('callbackhost')%}
        {{ path('catalog_bmw', {'token': app.request.get('token'), 'callbackhost':  app.request.get('callbackhost'), 'domain':  app.request.get('domain') }) }}
    {% else %}
        {{ path('catalog_bmw', {'token': app.request.get('token'), 'callbackhost':  app.request.cookies.get('COOKIEHOSTbmw'~app.request.cookies.get('DOMAIN')|replace({'.': ''})), 'domain':  app.request.cookies.get('DOMAIN') }) }}
    {% endif %}
{% endblock catalogPath %}

{% block vinPath %}
    {% if app.request.get('callbackhost')%}
        {{ path('vin_bmw', {'token': app.request.get('token'), 'callbackhost':  app.request.get('callbackhost'), 'domain':  app.request.get('domain') }) }}
    {% else %}
        {{ path('vin_bmw', {'token': app.request.get('token'), 'callbackhost':  app.request.cookies.get('COOKIEHOSTbmw'~app.request.cookies.get('DOMAIN')|replace({'.': ''})), 'domain':  app.request.cookies.get('DOMAIN') }) }}
    {% endif %}
{% endblock vinPath %}

{% block articulPath %}
    {% if app.request.get('callbackhost')%}
        {{ path('articul_bmw', {'token': app.request.get('token'), 'callbackhost':  app.request.get('callbackhost'), 'domain':  app.request.get('domain') }) }}
    {% else %}
        {{ path('articul_bmw', {'token': app.request.get('token'), 'callbackhost':  app.request.cookies.get('COOKIEHOSTbmw'~app.request.cookies.get('DOMAIN')|replace({'.': ''})), 'domain':  app.request.cookies.get('DOMAIN') }) }}
    {% endif %}
{% endblock articulPath %}

{% block userStylesheets %}
    {% if (app.request.get('callbackhost')) or (app.request.cookies.get('DOMAIN')) %}
        <link rel="stylesheet" href="{{ asset(constant('Catalog\\CommonBundle\\Components\\Constants::PREFIX_STATIC')~'/bundles/catalogaudi/css/common_callbackhost.css') }}" media="all">
    {% else %}
        <link rel="stylesheet" href="{{ asset(constant('Catalog\\CommonBundle\\Components\\Constants::PREFIX_STATIC')~'/bundles/catalogaudi/css/common.css') }}" media="all">

    {% endif %}
{% endblock userStylesheets %}

{% block langPath %}
    {% if app.request.get('callbackhost')%}
        {% if parameters is defined %}{{ path(app.request.get('_route'), parameters|merge({'_locale': key, 'token': app.request.get('token'), 'callbackhost':  app.request.get('callbackhost'), 'domain':  app.request.get('domain')})) }}
        {% else %} {{ path(app.request.get('_route'), {'_locale': key, 'token': app.request.get('token'), 'callbackhost':  app.request.get('callbackhost'), 'domain':  app.request.get('domain')}) }} {% endif %}
    {% else %}
        {% if parameters is defined %}{{ path(app.request.get('_route'), parameters|merge({'_locale': key, 'token': app.request.get('token'), 'callbackhost':  app.request.cookies.get('COOKIEHOSTbmw'~app.request.cookies.get('DOMAIN')|replace({'.': ''})), 'domain':  app.request.cookies.get('DOMAIN')})) }}
        {% else %} {{ path(app.request.get('_route'), {'_locale': key, 'token': app.request.get('token'), 'callbackhost':  app.request.cookies.get('COOKIEHOSTbmw'~app.request.cookies.get('DOMAIN')|replace({'.': ''})), 'domain':  app.request.cookies.get('DOMAIN')}) }} {% endif %}    {% endif %}
{% endblock langPath %}

