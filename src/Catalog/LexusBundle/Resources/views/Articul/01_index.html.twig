{% trans_default_domain 'common' %}
{% extends 'CatalogCommonBundle:Articul:01_index.html.twig' %}
{% use 'CatalogLexusBundle::lexus.base.html.twig' %}
{% block formAction %}
    {% if app.request.get('token') %}
        {{ path('articul_lexus_find_token', {'token': app.request.get('token'), 'articul': app.request.get('articul')|trim, 'callbackhost': app.request.get('callbackhost')}) }}

    {% else %}

        {{ path('articul_lexus_find', {'articul': app.request.get('articul')|trim, 'callbackhost': app.request.get('callbackhost')}) }}

    {% endif %}
{% endblock formAction %}

{% block articulScript %}
    <script>
        $("#articul-button").on('click', function(){
            if($("#articul").val(). replace(/\s+/g, '').length < 7){
                alert("{{ 'Артикул должен содержать не менее 8 знаков!'|trans }}");
                return;
            }
        });
    </script>
{% endblock articulScript %}